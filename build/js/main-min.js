(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=3)})([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return popupFunc});class popupFunc{constructor(button,popup,wrapper=true){this.button=button;this.popup=popup;this.wrapper=wrapper;this.openPopupFunc=this.openPopup.bind(this);this.closePopupFunc=this.closePopup.bind(this);if(Array.isArray(this.button)){this.button.forEach(elem=>{elem.addEventListener("click",this.openPopupFunc)})}else{this.button.addEventListener("click",this.openPopupFunc)}if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))})}else{this.popup.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").addEventListener("click",this.closePopupFunc)}}openPopup(event){if(event.target.dataset.stopEvent===undefined){if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.add("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}});if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}else{this.popup.classList.add("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}window.addEventListener("mousedown",this.closePopupFunc)}}closePopup(event){if(!event.target.classList.contains("close")&&event.target.closest(`.${this.button.dataset.popup}`)!==null){event.stopPropagation()}else{if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.remove("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}})}else{this.popup.classList.remove("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}}}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.remove("active")}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return hideList});class hideList{constructor(listBlock,fixHeight=null){this.fixHeight=fixHeight;this.listBlock=listBlock;this.list=this.listBlock.querySelector("[data-block]");this.listBlock.querySelector("[data-btn]").addEventListener("click",()=>{this.showBlock()});if(this.listBlock.querySelector("[data-btn]").classList.contains("active")){this.fixHeight===null?this.list.style.height=`${this.list.scrollHeight}px`:this.list.style.height=`${this.fixHeight}px`;this.list.classList.add("active")}}showBlock(){let blockHeight=parseInt(window.getComputedStyle(this.list).getPropertyValue("height"));if(blockHeight===0){this.fixHeight===null?this.list.style.height=`${this.list.scrollHeight}px`:this.list.style.height=`${this.fixHeight}px`;this.listBlock.querySelector("[data-btn]").classList.add("active");this.list.classList.add("active")}else{this.listBlock.querySelector("[data-btn]").classList.remove("active");this.list.classList.remove("active");this.list.style.height=`0`}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return Tabs});class Tabs{constructor(btnArrow,tabArrow){this.btnArrow=btnArrow;this.tabArrow=tabArrow;this.btnArrow.forEach((elem,index)=>{elem.addEventListener("click",e=>{e.preventDefault();this.switchTab(index)})})}switchTab(index){this.btnArrow.forEach(btn=>{btn.classList.remove("active")});this.btnArrow[index].classList.add("active");this.tabArrow.forEach(tab=>{tab.classList.remove("active")});this.tabArrow[index].classList.add("active")}}},function(module,exports,__webpack_require__){__webpack_require__(4);__webpack_require__(5);__webpack_require__(6);__webpack_require__(1);__webpack_require__(0);module.exports=__webpack_require__(2)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_popupFunc__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _components_tabs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);if(document.querySelector("aside.catalog-aside")){new _components_popupFunc__WEBPACK_IMPORTED_MODULE_0__["default"](document.querySelector(".sort-filter .filter-btn"),document.querySelector("aside.catalog-aside"))}if(document.querySelector("section.product-tabs")){new _components_tabs__WEBPACK_IMPORTED_MODULE_1__["default"]([...document.querySelectorAll("section.product-tabs .tab-link")],[...document.querySelectorAll("section.product-tabs .tab")])}console.log(document.querySelectorAll(".big-hor-news"))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_popupFunc__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _components_hideList__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);if(document.querySelector(".product-slider")){document.querySelectorAll(".product-slider").forEach(elem=>{let swiper=new Swiper(elem.querySelector(".swiper-container"),{slidesPerView:4,slidesPerGroup:4,spaceBetween:20,pagination:{el:elem.querySelector(".pagination"),clickable:true,renderBullet:function(index,className){return`<span class="dot ${className}"></span>`}},navigation:{nextEl:elem.querySelector(".arrow.next"),prevEl:elem.querySelector(".arrow.prev")},breakpoints:{1001:{slidesPerView:4,slidesPerGroup:4},768:{slidesPerView:3,slidesPerGroup:3,spaceBetween:20},0:{slidesPerView:2,slidesPerGroup:2,spaceBetween:5}}})})}if(document.querySelector(".header")){new _components_popupFunc__WEBPACK_IMPORTED_MODULE_0__["default"](document.querySelector("header .header .mobile-buttons .menu"),[document.querySelector(".header .contacts"),document.querySelector(".header .refs")]);new _components_popupFunc__WEBPACK_IMPORTED_MODULE_0__["default"](document.querySelector("header .header .mobile-buttons .search"),document.querySelector("#search"));new _components_popupFunc__WEBPACK_IMPORTED_MODULE_0__["default"](document.querySelector("header .header .cart .button"),document.querySelector(".header .cart-header"),false)}if(document.querySelector(".header li.has_child")){document.querySelectorAll(".header .refs>.container>li.has_child").forEach(menu=>{let menuContainer=document.querySelector(".header .refs>.container");let maxWidth=menuContainer.offsetLeft+menuContainer.offsetWidth;let subMenu=menu.querySelector(".sub_menu.level_2");let subMenuOffsetLeft=menuContainer.offsetLeft+menu.offsetLeft+subMenu.offsetWidth;if(subMenuOffsetLeft>maxWidth){subMenu.style.marginLeft=`-${subMenu.offsetWidth-menu.offsetWidth}px`}if(menu.querySelector(".sub_menu.level_3")){menu.querySelectorAll(".sub_menu.level_3").forEach(menuLevel3=>{if(menuContainer.offsetLeft+menu.offsetLeft+subMenu.offsetWidth+menuLevel3.offsetWidth>maxWidth){menuLevel3.style.left="auto";menuLevel3.style.right="100%"}})}})}if(document.querySelector(".header li.has_child")&&window.screen.width<768){document.querySelectorAll(".header li.has_child").forEach(elem=>{let ref=elem.querySelector("a");let flag=false;function closeMenu(event){if(!event.target.closest(".dropdown-menu")){ref.classList.remove("active");if(elem.querySelector(".dropdown-menu")){elem.querySelector(".dropdown-menu").style.display="none"}else{elem.querySelector(".sub_menu").style.display="none"}flag=false;window.removeEventListener("click",closeMenu)}}ref.addEventListener("click",function(e){let menuList;if(elem.querySelector(".dropdown-menu")){menuList=elem.querySelector(".dropdown-menu")}else{menuList=elem.querySelector(".sub_menu")}if(flag&&menuList.style.display==="flex"){return true}else{flag=true;e.preventDefault();e.stopPropagation();document.querySelectorAll(".header li.has_child .sub_menu").forEach(menu=>{if(menu.classList.contains("level_3")){menu.style.display="none";menu.parentNode.querySelector("a").classList.remove("active")}});ref.classList.add("active");menuList.style.display="flex";window.addEventListener("click",closeMenu)}})})}if(document.querySelector("[data-hide]")){document.querySelectorAll("[data-hide]").forEach(elem=>{if(elem.classList.contains("custom-filter")){new _components_hideList__WEBPACK_IMPORTED_MODULE_1__["default"](elem,360)}else{new _components_hideList__WEBPACK_IMPORTED_MODULE_1__["default"](elem)}})}},function(module,exports){if(document.querySelector("section.banner")){let swiper=new Swiper("section.banner .swiper-container",{centeredSlides:true,loop:true,autoplay:{delay:5e3,disableOnInteraction:false}})}if(document.querySelector("section.brands")){document.querySelectorAll("section.brands").forEach(elem=>{let swiper=new Swiper(elem.querySelector(".swiper-container"),{slidesPerView:5,slidesPerGroup:5,spaceBetween:20,pagination:{el:elem.querySelector(".pagination"),clickable:true,renderBullet:function(index,className){return`<span class="dot ${className}"></span>`}},breakpoints:{768:{slidesPerView:5,slidesPerGroup:5},577:{slidesPerView:4,slidesPerGroup:4},421:{slidesPerView:3,slidesPerGroup:3},0:{slidesPerView:2,slidesPerGroup:2}}})})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJnZXREZWZhdWx0IiwiZ2V0TW9kdWxlRXhwb3J0cyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJwb3B1cEZ1bmMiLCJbb2JqZWN0IE9iamVjdF0iLCJidXR0b24iLCJwb3B1cCIsIndyYXBwZXIiLCJ0aGlzIiwib3BlblBvcHVwRnVuYyIsIm9wZW5Qb3B1cCIsImNsb3NlUG9wdXBGdW5jIiwiY2xvc2VQb3B1cCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJlbGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJldmVudCIsInRhcmdldCIsImRhdGFzZXQiLCJzdG9wRXZlbnQiLCJ1bmRlZmluZWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJwYXJlbnROb2RlIiwiY29udGFpbnMiLCJ3aW5kb3ciLCJzY3JlZW4iLCJ3aWR0aCIsImJvZHkiLCJjbG9zZXN0Iiwic3RvcFByb3BhZ2F0aW9uIiwicmVtb3ZlIiwiaGlkZUxpc3QiLCJsaXN0QmxvY2siLCJmaXhIZWlnaHQiLCJsaXN0Iiwic2hvd0Jsb2NrIiwic3R5bGUiLCJoZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJibG9ja0hlaWdodCIsInBhcnNlSW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJUYWJzIiwiYnRuQXJyb3ciLCJ0YWJBcnJvdyIsImluZGV4IiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3dpdGNoVGFiIiwiYnRuIiwidGFiIiwiX2NvbXBvbmVudHNfcG9wdXBGdW5jX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfY29tcG9uZW50c190YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJjb25zb2xlIiwibG9nIiwiX2NvbXBvbmVudHNfaGlkZUxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsInN3aXBlciIsIlN3aXBlciIsInNsaWRlc1BlclZpZXciLCJzbGlkZXNQZXJHcm91cCIsInNwYWNlQmV0d2VlbiIsInBhZ2luYXRpb24iLCJlbCIsImNsaWNrYWJsZSIsInJlbmRlckJ1bGxldCIsImNsYXNzTmFtZSIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJicmVha3BvaW50cyIsIjEwMDEiLCI3NjgiLCIwIiwibWVudSIsIm1lbnVDb250YWluZXIiLCJtYXhXaWR0aCIsIm9mZnNldExlZnQiLCJvZmZzZXRXaWR0aCIsInN1Yk1lbnUiLCJzdWJNZW51T2Zmc2V0TGVmdCIsIm1hcmdpbkxlZnQiLCJtZW51TGV2ZWwzIiwibGVmdCIsInJpZ2h0IiwicmVmIiwiZmxhZyIsImNsb3NlTWVudSIsImRpc3BsYXkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibWVudUxpc3QiLCJjZW50ZXJlZFNsaWRlcyIsImxvb3AiLCJhdXRvcGxheSIsImRlbGF5IiwiZGlzYWJsZU9uSW50ZXJhY3Rpb24iLCI1NzciLCI0MjEiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLFNBRVQsSUFBSUMsaUJBQW1CLEdBR3ZCLFNBQVNDLG9CQUFvQkMsVUFHNUIsR0FBR0YsaUJBQWlCRSxVQUFXLENBQzlCLE9BQU9GLGlCQUFpQkUsVUFBVUMsUUFHbkMsSUFBSUMsT0FBU0osaUJB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QUk4QyxrREFBa0QsV0FBVzlDLFdBT3ZFLFNBQVVoRCxPQUFRRCxTQUV4QixHQUFJb0QsU0FBU0MsY0FBYyxrQkFBa0IsQ0FDekMsSUFBSTJDLE9BQVMsSUFBSUMsT0FBTyxtQ0FBb0MsQ0FDeERpQyxlQUFnQixLQUNoQkMsS0FBTSxLQUNOQyxTQUFVLENBQ05DLE1BQU8sSUFDUEMscUJBQXNCLFNBSWxDLEdBQUlsRixTQUFTQyxjQUFjLGtCQUFrQixDQUN6Q0QsU0FBU0QsaUJBQWlCLGtCQUFrQkgsUUFBU0MsT0FDakQsSUFBSStDLE9BQVMsSUFBSUMsT0FBT2hELEtBQUtJLGNBQWMscUJBQXNCLENBQzdENkMsY0FBZSxFQUNmQyxlQUFnQixFQUNoQkMsYUFBYyxHQUNkQyxXQUFZLENBQ1JDLEdBQUlyRCxLQUFLSSxjQUFjLGVBQ3ZCa0QsVUFBVyxLQUNYQyxhQUFjLFNBQVVuQixNQUFPb0IsV0FDM0IsMEJBQTJCQSx1QkFHbkNJLFlBQWEsQ0FDVEUsSUFBSyxDQUNEYixjQUFlLEVBQ2ZDLGVBQWdCLEdBRXBCb0MsSUFBSyxDQUNEckMsY0FBZSxFQUNmQyxlQUFnQixHQUVwQnFDLElBQUssQ0FDRHRDLGNBQWUsRUFDZkMsZUFBZ0IsR0FFcEJhLEVBQUcsQ0FDQ2QsY0FBZSxFQUNmQyxlQUFnQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBwb3B1cEZ1bmM7IH0pO1xuY2xhc3MgcG9wdXBGdW5jIHtcclxuICAgIGNvbnN0cnVjdG9yKGJ1dHRvbixwb3B1cCx3cmFwcGVyID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuYnV0dG9uID0gYnV0dG9uO1xyXG4gICAgICAgIHRoaXMucG9wdXAgPSBwb3B1cDtcclxuICAgICAgICB0aGlzLndyYXBwZXIgPSB3cmFwcGVyO1xyXG4gICAgICAgIHRoaXMub3BlblBvcHVwRnVuYyA9IHRoaXMub3BlblBvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZVBvcHVwRnVuYyA9IHRoaXMuY2xvc2VQb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGlmICggQXJyYXkuaXNBcnJheSh0aGlzLmJ1dHRvbikpe1xyXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbi5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Qb3B1cEZ1bmMpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUG9wdXBGdW5jKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wb3B1cCkpe1xyXG4gICAgICAgICAgICB0aGlzLnBvcHVwLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuY2xvc2UnKS5mb3JFYWNoKGVsZW0gPT4gZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VQb3B1cEZ1bmMpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcuY2xvc2UnKS5mb3JFYWNoKGVsZW0gPT4gZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VQb3B1cEZ1bmMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlUG9wdXBGdW5jKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvcGVuUG9wdXAoZXZlbnQpe1xyXG4gICAgICAgIGlmKGV2ZW50LnRhcmdldC5kYXRhc2V0LnN0b3BFdmVudCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucG9wdXApKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNzY4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3dyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuY2xvc2VQb3B1cEZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNsb3NlUG9wdXAoZXZlbnQpe1xyXG4gICAgICAgIGlmICghZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UnKSAmJiBldmVudC50YXJnZXQuY2xvc2VzdChgLiR7dGhpcy5idXR0b24uZGF0YXNldC5wb3B1cH1gKSAhPT0gbnVsbCl7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucG9wdXApKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNzY4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd3cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA3NjgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaGlkZUxpc3Q7IH0pO1xuY2xhc3MgaGlkZUxpc3R7XHJcbiAgICBjb25zdHJ1Y3RvcihsaXN0QmxvY2ssIGZpeEhlaWdodCA9IG51bGwpIHtcclxuICAgICAgICB0aGlzLmZpeEhlaWdodCA9IGZpeEhlaWdodFxyXG4gICAgICAgIHRoaXMubGlzdEJsb2NrID0gbGlzdEJsb2NrO1xyXG4gICAgICAgIHRoaXMubGlzdCA9IHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrXScpO1xyXG4gICAgICAgIHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57dGhpcy5zaG93QmxvY2soKX0pXHJcbiAgICAgICAgaWYgKHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZml4SGVpZ2h0ID09PSBudWxsID8gdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMubGlzdC5zY3JvbGxIZWlnaHR9cHhgIDogdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMuZml4SGVpZ2h0fXB4YDtcclxuICAgICAgICAgICAgdGhpcy5saXN0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2hvd0Jsb2NrKCl7XHJcbiAgICAgICAgbGV0IGJsb2NrSGVpZ2h0ID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5saXN0KS5nZXRQcm9wZXJ0eVZhbHVlKCdoZWlnaHQnKSk7XHJcbiAgICAgICAgaWYgKGJsb2NrSGVpZ2h0ID09PSAwKXtcclxuICAgICAgICAgICAgdGhpcy5maXhIZWlnaHQgPT09IG51bGwgPyB0aGlzLmxpc3Quc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5saXN0LnNjcm9sbEhlaWdodH1weGAgOiB0aGlzLmxpc3Quc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5maXhIZWlnaHR9cHhgO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RCbG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1idG5dJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5zdHlsZS5oZWlnaHQgPSBgMGBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUYWJzOyB9KTtcbmNsYXNzIFRhYnN7XHJcbiAgICBjb25zdHJ1Y3RvcihidG5BcnJvdywgdGFiQXJyb3cpIHtcclxuICAgICAgICB0aGlzLmJ0bkFycm93ID0gYnRuQXJyb3c7XHJcbiAgICAgICAgdGhpcy50YWJBcnJvdyA9IHRhYkFycm93O1xyXG4gICAgICAgIHRoaXMuYnRuQXJyb3cuZm9yRWFjaCggKGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zd2l0Y2hUYWIoaW5kZXgpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHN3aXRjaFRhYihpbmRleCl7XHJcbiAgICAgICAgdGhpcy5idG5BcnJvdy5mb3JFYWNoKGJ0biA9PntcclxuICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5idG5BcnJvd1tpbmRleF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgdGhpcy50YWJBcnJvdy5mb3JFYWNoKHRhYiA9PntcclxuICAgICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy50YWJBcnJvd1tpbmRleF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICB9XHJcbn1cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbl9fd2VicGFja19yZXF1aXJlX18oMSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19wb3B1cEZ1bmNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfdGFic19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxyXG5cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhc2lkZS5jYXRhbG9nLWFzaWRlJykpe1xyXG4gICAgbmV3IF9jb21wb25lbnRzX3BvcHVwRnVuY19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc29ydC1maWx0ZXIgLmZpbHRlci1idG4nKSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYXNpZGUuY2F0YWxvZy1hc2lkZScpKVxyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnByb2R1Y3QtdGFicycpKXtcclxuICAgIG5ldyBfY29tcG9uZW50c190YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLnByb2R1Y3QtdGFicyAudGFiLWxpbmsnKV0sIFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLnByb2R1Y3QtdGFicyAudGFiJyldKVxyXG59XHJcbmNvbnNvbGUubG9nKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iaWctaG9yLW5ld3MnKSlcblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX3BvcHVwRnVuY19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19oaWRlTGlzdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxyXG5cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1zbGlkZXInKSl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZHVjdC1zbGlkZXInKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICBsZXQgc3dpcGVyID0gbmV3IFN3aXBlcihlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItY29udGFpbmVyJyksIHtcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcclxuICAgICAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDQsXHJcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgICAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICAgICAgICAgIGVsOiBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBjbGlja2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICByZW5kZXJCdWxsZXQ6IGZ1bmN0aW9uIChpbmRleCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cImRvdCAke2NsYXNzTmFtZX1cIj48L3NwYW4+YFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBuZXh0RWw6IGVsZW0ucXVlcnlTZWxlY3RvcignLmFycm93Lm5leHQnKSxcclxuICAgICAgICAgICAgICAgIHByZXZFbDogZWxlbS5xdWVyeVNlbGVjdG9yKCcuYXJyb3cucHJldicpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAxMDAxOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJHcm91cDogNCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICA3Njg6IHtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1Blckdyb3VwOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgMDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiA1LFxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSlcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpKXtcclxuICAgIG5ldyBfY29tcG9uZW50c19wb3B1cEZ1bmNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5oZWFkZXIgLm1vYmlsZS1idXR0b25zIC5tZW51JyksIFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyIC5jb250YWN0cycpLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyIC5yZWZzJyldKTtcclxuICAgIG5ldyBfY29tcG9uZW50c19wb3B1cEZ1bmNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5oZWFkZXIgLm1vYmlsZS1idXR0b25zIC5zZWFyY2gnKSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlYXJjaCcpKTtcclxuICAgIG5ldyBfY29tcG9uZW50c19wb3B1cEZ1bmNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5oZWFkZXIgLmNhcnQgLmJ1dHRvbicpLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyIC5jYXJ0LWhlYWRlcicpLCBmYWxzZSlcclxufVxyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXIgbGkuaGFzX2NoaWxkJykpe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhlYWRlciAucmVmcz4uY29udGFpbmVyPmxpLmhhc19jaGlsZCcpLmZvckVhY2goIG1lbnUgPT4ge1xyXG4gICAgICAgIGxldCBtZW51Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlciAucmVmcz4uY29udGFpbmVyJyk7XHJcbiAgICAgICAgbGV0IG1heFdpZHRoID0gbWVudUNvbnRhaW5lci5vZmZzZXRMZWZ0ICsgbWVudUNvbnRhaW5lci5vZmZzZXRXaWR0aDtcclxuICAgICAgICBsZXQgc3ViTWVudSA9IG1lbnUucXVlcnlTZWxlY3RvcignLnN1Yl9tZW51LmxldmVsXzInKTtcclxuICAgICAgICBsZXQgc3ViTWVudU9mZnNldExlZnQgPSBtZW51Q29udGFpbmVyLm9mZnNldExlZnQgKyBtZW51Lm9mZnNldExlZnQgKyBzdWJNZW51Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIGlmIChzdWJNZW51T2Zmc2V0TGVmdCA+IG1heFdpZHRoKXtcclxuICAgICAgICAgICAgc3ViTWVudS5zdHlsZS5tYXJnaW5MZWZ0ID0gYC0ke3N1Yk1lbnUub2Zmc2V0V2lkdGggLSBtZW51Lm9mZnNldFdpZHRofXB4YFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWVudS5xdWVyeVNlbGVjdG9yKCcuc3ViX21lbnUubGV2ZWxfMycpKXtcclxuICAgICAgICAgICAgbWVudS5xdWVyeVNlbGVjdG9yQWxsKCcuc3ViX21lbnUubGV2ZWxfMycpLmZvckVhY2goIG1lbnVMZXZlbDMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1lbnVDb250YWluZXIub2Zmc2V0TGVmdCArIG1lbnUub2Zmc2V0TGVmdCArIHN1Yk1lbnUub2Zmc2V0V2lkdGggKyBtZW51TGV2ZWwzLm9mZnNldFdpZHRoID4gbWF4V2lkdGgpe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lbnVMZXZlbDMuc3R5bGUubGVmdCA9ICdhdXRvJztcclxuICAgICAgICAgICAgICAgICAgICBtZW51TGV2ZWwzLnN0eWxlLnJpZ2h0ID0gJzEwMCUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXIgbGkuaGFzX2NoaWxkJykgJiYgd2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVhZGVyIGxpLmhhc19jaGlsZCcpLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgIGxldCByZWYgPSBlbGVtLnF1ZXJ5U2VsZWN0b3IoXCJhXCIpO1xyXG4gICAgICAgIGxldCBmbGFnID0gZmFsc2U7XHJcbiAgICAgICAgZnVuY3Rpb24gY2xvc2VNZW51KGV2ZW50KXtcclxuICAgICAgICAgICAgaWYgKCFldmVudC50YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duLW1lbnUnKSl7XHJcbiAgICAgICAgICAgICAgICByZWYuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi1tZW51JykpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi1tZW51Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5zdWJfbWVudScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTWVudSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZWYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBsZXQgbWVudUxpc3Q7XHJcbiAgICAgICAgICAgIGlmIChlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi1tZW51JykpIHtcclxuICAgICAgICAgICAgICAgIG1lbnVMaXN0ID0gZWxlbS5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tbWVudScpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtZW51TGlzdCA9IGVsZW0ucXVlcnlTZWxlY3RvcignLnN1Yl9tZW51JylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZmxhZyAmJiBtZW51TGlzdC5zdHlsZS5kaXNwbGF5ID09PSAnZmxleCcpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oZWFkZXIgbGkuaGFzX2NoaWxkIC5zdWJfbWVudScpLmZvckVhY2goIG1lbnUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtZW51LmNsYXNzTGlzdC5jb250YWlucygnbGV2ZWxfMycpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZW51LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignYScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZWYuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBtZW51TGlzdC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VNZW51KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oaWRlXScpKXtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWhpZGVdJykuZm9yRWFjaChlbGVtID0+IHtcclxuICAgICAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2N1c3RvbS1maWx0ZXInKSkge1xyXG4gICAgICAgICAgICBuZXcgX2NvbXBvbmVudHNfaGlkZUxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0oZWxlbSwgMzYwKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5ldyBfY29tcG9uZW50c19oaWRlTGlzdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXShlbGVtKVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLmJhbm5lcicpKXtcclxuICAgIGxldCBzd2lwZXIgPSBuZXcgU3dpcGVyKCdzZWN0aW9uLmJhbm5lciAuc3dpcGVyLWNvbnRhaW5lcicsIHtcclxuICAgICAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcclxuICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgIGF1dG9wbGF5OiB7XHJcbiAgICAgICAgICAgIGRlbGF5OiA1MDAwLFxyXG4gICAgICAgICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uYnJhbmRzJykpe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbi5icmFuZHMnKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICBsZXQgc3dpcGVyID0gbmV3IFN3aXBlcihlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItY29udGFpbmVyJyksIHtcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNSxcclxuICAgICAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDUsXHJcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgICAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICAgICAgICAgIGVsOiBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBjbGlja2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICByZW5kZXJCdWxsZXQ6IGZ1bmN0aW9uIChpbmRleCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cImRvdCAke2NsYXNzTmFtZX1cIj48L3NwYW4+YFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAgICAgNzY4OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNSxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJHcm91cDogNSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICA1Nzc6IHtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1Blckdyb3VwOiA0LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIDQyMToge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgMDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDIsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pXHJcbn1cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pOyJdLCJmaWxlIjoibWFpbi1taW4uanMifQ==
